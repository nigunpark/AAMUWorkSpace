<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admin.mybatis.mapper.commu">
	<!-- 글 리스트 뿌려주기 -->
	<select id="commuSelectList"  parameterType="Map" resultType="commuDto">
		SELECT * FROM
		(SELECT T.*,ROWNUM R FROM (
		SELECT c.* FROM community c JOIN users u ON c.id=u.id ORDER BY lno DESC) T)
		WHERE R BETWEEN #{start} AND #{end}
	</select>
	
	<!-- 전체 레코드수 -->
	<select id="commuGetTotalRecordCount" parameterType="Map" resultType="int">
	 	SELECT COUNT(*) FROM community c JOIN users u ON c.id=u.id
	</select>
	
	<!-- 글 삭제 -->
	<delete id="commuDelete" parameterType="Map">
		DELETE community WHERE lno = #{lno}
	</delete>
</mapper>